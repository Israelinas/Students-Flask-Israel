{% extends "base.html" %}
{% block title %}Home - John Bryce{% endblock %}

{% block content %}

<div class="index-all">
    <div>
        <div class="slider">
            <img src="../static/img/9.jpg">
            <img src="../static/img/8.jpg">
            <img src="../static/img/7.jpg">
            <div class="slider-text">
                <h2>Welcome to JB</h2>
                <!-- <p>paragraph text here - IF NEEDED</p> -->
            </div>
            <button class="prev">&#10094;</button>
            <button class="next">&#10095;</button>
          </div>
        <script src="../static/js/slider.js"></script>
    </div>

    <div class="hp-grid-container">
        <div class="teacher-of-the-week">
            <section class="recommended-teacher">
                <h1>Teacher of the day...</h1>
                <img src="{{ teacher_image }}" alt="Teacher of the day photo">
                <h3>{{ teacher_name }}</h3>
                <hr>
                <p>{{ teacher_name.split()[0] }} is a passionate and experienced teacher who has been teaching for over
                    10
                    years. If you are planning to study technology and code - {{ teacher_name.split()[0] }} is the best
                    for
                    you!</p>
            </section>

            <section class="recommended-teacher">
                <h1>Student of the day...</h1>
                <img src="{{ student_image }}" alt="Student of the day photo">
                <h3>{{ student_name }}</h3>
                <hr>
                <p>{{ student_name.split()[0] }} is a dedicated and enthusiastic learner who takes the studies
                    seriously. {{
                    student_name.split()[0] }} organized and proactive, always seeking to improve the knowledge and
                    skills.
                    {{ student_name.split()[0] }} is respectful and cooperative with the teachers and peers, and has a
                    growth mindset that allows them to overcome challenges and achieve their goals.</p>
            </section>

        </div>

        <div class="hp-new-courses">
            <div class="home_new_course">
                <h3>Messages</h3>
                <div>
                    <script type="text/babel" src="../static/js/clock.js"></script>
                    <div id="clock"></div>
                    
                    <div id="messages"></div>
                    <script type="text/babel" src="../static/js/messages.js"></script>
                    
                </div>
            </div>

            <div class="hp-new-courses">
                <div class="home_new_course">
                    <h3>Last Added Courses...</h3>
                    <table>
                        <tr>
                            <th>Course</th>
                            <th>Start Date</th>
                            <th>End Date</th>
                        </tr>
                        {% for course in new_courses %}
                        <tr>
                            <td>{{ course[0] }}</td>
                            <td>{{ course[1] }}</td>
                            <td>{{ course[2] }}</td>
                        </tr>
                        {% endfor %}
                    </table>
                </div>
            </div>
        </div>
    </div>

    <div class="video-container">
        <video src="/static/video/JB_Video.mp4" autoplay muted controls width="800px"></video>
    </div>

    <div>
        <h1 style="display: grid; justify-content: center; color: #DF1522; padding-bottom: 4vh;"><b>JB in Numbers</b>
        </h1>
    </div>
    <div style="display: grid; grid-template-columns: repeat(4, 1fr); text-align: center;">
        <div style="grid-column: 1/2;">
            <i class="fa-sharp fa-solid fa-book fa-2xl" style="color: #2d3142;"></i>
            <h3 style="margin-top: 0; color: #2d3142; font-size: 50px;" class="value"
                akhi="{{ active_courses_num[0][0] }}">0</h3>
            <h4 style="color: #2d3142;">Active Courses</h4>
        </div>
        <div style="grid-column: 2/3;">
            <i class="fa-sharp fa-solid fa-school-flag fa-2xl" style="color: #2d3142;"></i>
            <h3 style="margin-top: 0; color: #2d3142; font-size: 50px;" class="value" akhi="{{ courses_num[0][0] }}">0
            </h3>
            <h4 style="color: #2d3142;">Courses</h4>
        </div>
        <div style="grid-column: 3/4;">
            <i class="fa-solid fa-graduation-cap fa-2xl" style="color: #2d3142;"></i>
            <h3 style="margin-top: 0; color: #2d3142; font-size: 50px;" class="value" akhi="{{ students_num[0][0] }}">0
            </h3>
            <h4 style="color: #2d3142;">Students</h4>
        </div>
        <div style="grid-column: 4/5;">
            <i class="fa-solid fa-chalkboard-user fa-2xl" style="color: #2d3142;"></i>
            <h3 style="margin-top: 0; color: #2d3142; font-size: 50px;" class="value" akhi="{{ teachers_num[0][0] }}">0
            </h3>
            <h4 style="color: #2d3142;">Teachers</h4>
        </div>
    </div>



    <div class="leads-form-title">
        <h1>Want to become a <b>DEVELOPER</b>?</h1>
        <h4>Leave your details below and we'll call you soon with all details</h4>
    </div>

    <div class="leads-form">
        <form method="POST">
            <label for="name">Name*</label>
            <input type="text" name="name" placeholder="Name" required>
            <label for="phone">Phone*</label>
            <input type="tel" name="phone" placeholder="050-1234567" pattern="[0-9]{3}-[0-9]{7}" required>
            <label for="email">Email</label>
            <input type="email" name="email" placeholder="Email">
            <label for="cars">City</label>
            <select id="city" name="city" id="cities">
                <option value="none" selected hidden>Choose a City</option>
                <option value="Tel Aviv">Tel Aviv</option>
                <option value="Jerusalem">Jerusalem</option>
                <option value="Beer Sheva">Be'er Sheva</option>
                <option value="Haifa">Haifa</option>
            </select>
            <br><br>
            <input type="checkbox" required checked> * I have read and agree to the Terms of Service
            <input class="leads-send-button" type="submit" value="Call Me Back!">
        </form>
    </div>

</div>

</div>

<script>
    const counters = document.querySelectorAll('.value');
    const speed = 10000;
    counters.forEach(counter => {
        const animate = () => {
            const value = +counter.getAttribute('akhi');
            const data = +counter.innerText;

            const time = value / speed;
            if (data < value) {
                counter.innerText = Math.ceil(data + time);
                setTimeout(animate, 1);
            } else {
                counter.innerText = value;
            }
        }
        animate();
    });
</script>

{% endblock %}